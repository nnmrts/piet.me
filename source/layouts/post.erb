
<%
@page_css = [
  'https://fonts.googleapis.com/css?family=Inconsolata',
  'syntax'
]
@description = current_article.summary
@title = current_article.title
%>

<% wrap_layout :layout do %>
  <article>
    <header>
      <h1><%= current_article.title %></h1>
      <time datetime="<%= current_article.date.strftime('%F') %>"><small><%= current_article.date.strftime('%e %B %Y') %></small></time>
    </header>

    <% if current_article.data.unsplash_img_id %>
    <figure class="post-header-img">
      <div class="embed-container ratio-16-9">
        <img src="https://source.unsplash.com/<%= current_article.data.unsplash_img_id %>/1400x900" width="1400" height="900" alt="<%= current_article.title %>">
      </div>
    </figure>
    <% end %>

    <%= yield %>

    <hr>

    <footer>
      <h4>About Piet</h4>
      <%= partial(:about, :locals => { :img_width => 100 }) %>
    </footer>
  </article>

  <hr>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'pietvanzoen'; // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>
    <div class="card">
      <strong>Sorry, comments require JavaScript</strong>
      <p><small>No JavaScript? Good for you! I strive to make the experience of this website great without JavaScript. But, I haven't found a good solution for comments on a static website without JavaScript. So, if you'd like to view or make comments please enable JavaScript.</small></p>
    </div>
    <br>
  </noscript>
  <p><a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a></p>

<% end %>
